<!DOCTYPE html>
<html>
<head>
    <style>
        * {
            margin: 0;
            padding: 0;
            font-family: Arial;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
        }

        .header {
            min-height: 10%;
            border-bottom: 3px solid black;
            background-color: #db7f59;
            text-decoration: underline;
            font-weight: bold;
            text-align: center;
        }

        .text {
            padding-top: 10px;
            color: black;
        }

        #button_back {
            background-color: #6fa8dcff;
            color: black;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 15px;
            transition-duration: 0.4s;
        }

        #button_back:hover {
            background-color: purple;
        }

        .content {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 90%;
            background: url("../Images/sorting_shapes_backGround.png");
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
        }

        .parent_container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 30%;
        }

        .shape-container {
            flex-grow: 1;
            flex: 0.6;
            background-position: center;
            background-repeat: no-repeat;
            background-size: contain;
            border: 3px solid black;
            text-align: center;
            padding: 1%;
            margin: 24% 8% 10% 8%;
            height: 100px; /* Set a fixed height for drop containers */
            width: 100px; /* Set a fixed width for drop containers */
            min-height: 3.5in;
            z-index: 1;
        }
        #rectangle_container{
            background:url("../Images/sorting_Shapes_rectangle.jpg");
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
        }
        #triangle_container{
            background:url("../Images/sorting_Shapes_triangle.png");
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
        }
        #circle_container{
            background:url("../Images/sorting_shapes_circle.png");
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
        }

        .container_pick_and_drag {
            background-color: #93b897;
            display: flex;
            justify-content: space-between;
            align-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            border-top: 3px solid black;
            padding: 2%;
            min-height: 1.25in;
            position:relative;
            z-index:1;
            
        }

        .rectangle {
            height: 80px;
            width: 120px;
            background-color: blue;
        }

        .circle {
            height: 100px;
            width: 100px;
            background-color: #555;
            border-radius: 50%;
        }


        .triangle-up {
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 0 50px 80px 50px;
            border-color: transparent transparent #007bff transparent;
            background-color: transparent;
        }

        #counter {
            font-size: 20px;
            text-align: right;
            width: 100%;
        }

        .top-right {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1rem;
            text-align: right;
        }
        .top-left {
            position: absolute;
            top: 10px;
            left: 10px;
        }

    </style>
</head>
<body>
    <div class="header">
        <button type="button" class="top-left" id="button_back">Quit</button>
        <h1 style="font-size: 1.5rem;" class="text">Sorting Shapes</h1>
        <p style="font-size: 1rem;" class="text">Pick and drag a shape to its correct station</p>
        <p id="counter" class="top-right">Correct Placements: 0</p>
    </div>

    <div class="content">
        <div class="parent_container">
            <div class="shape-container" id="rectangle_container" data-correct-shape="rectangle"></div>
            <div class="shape-container" id="triangle_container" data-correct-shape="triangle"></div>
            <div class="shape-container" id="circle_container" data-correct-shape="circle"></div>
        </div>

        <div class="container_pick_and_drag" id="pick-and-drag-container">
        </div>
    </div>
    <script>
        function generateRandomShapes() {
            const container = document.getElementById("pick-and-drag-container");
            container.innerHTML = '';
    
            const shapes = ["rectangle", "circle", "triangle"];
            const totalShapes = 10;
    
            for (let i = 0; i < totalShapes; i++) {
                const randomShape = shapes[Math.floor(Math.random() * shapes.length)];
    
                const shapeElement = document.createElement("div");
                shapeElement.classList.add("draggable-shape");
                shapeElement.dataset.shape = randomShape;
    
                let shapeHtml = "";
                if (randomShape === "rectangle") {
                    shapeHtml = '<div class="rectangle"></div>';
                } else if (randomShape === "circle") {
                    shapeHtml = '<div class="circle"></div>';
                } else if (randomShape === "triangle") {
                    shapeHtml = '<div class="triangle-up"></div>';
                }
                shapeElement.innerHTML = shapeHtml;
                container.appendChild(shapeElement);
            }
    
            const draggableShapes = document.querySelectorAll('.draggable-shape');
    
                draggableShapes.forEach((shape) => {
                    shape.draggable = true;
        
                    shape.addEventListener('dragstart', (e) => {
                        e.dataTransfer.setData('text/plain', e.target.dataset.shape);
                    });
                });
            }
    
        window.addEventListener("load", generateRandomShapes);
    
            const shapeContainers = document.querySelectorAll('.shape-container');
        
            shapeContainers.forEach((container) => {
                container.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    container.style.background = 'none';
                });
        
                container.addEventListener('drop', (e) => {
                    e.preventDefault();
                    const droppedShape = e.dataTransfer.getData('text/plain');
                    const correctShape = container.dataset.correctShape;
        
                    if (droppedShape === correctShape) {
                        const counter = document.getElementById('counter');
                        const currentCount = parseInt(counter.textContent.split(" ")[2]);
                        counter.textContent = `Correct Placements: ${currentCount + 1}`;
                        const shapeToRemove = document.querySelector(`[data-shape="${droppedShape}"]`);
                        shapeToRemove.remove();
                    }
                    container.style.background = '';
                });
            });
        </script>
</body>
</html>